╔═══════════════════════════════════════════════════════════════════════════╗
║                    RESUME ANALYZER - ARCHITECTURE                         ║
╚═══════════════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────────────┐
│                          USER INTERFACE LAYER                           │
│                            (Streamlit - app.py)                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌──────────────┐         ┌──────────────┐         ┌──────────────┐  │
│  │   Resume     │         │     Job      │         │   Analyze    │  │
│  │   Upload     │         │ Description  │         │    Button    │  │
│  │  (PDF/DOCX)  │         │  Text Input  │         │              │  │
│  └──────┬───────┘         └──────┬───────┘         └──────┬───────┘  │
│         │                        │                        │           │
└─────────┼────────────────────────┼────────────────────────┼───────────┘
          │                        │                        │
          ▼                        ▼                        ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                      DOCUMENT PROCESSING LAYER                          │
│                    (utils/text_extractor.py)                            │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌──────────────────┐              ┌──────────────────┐               │
│  │  PDF Extraction  │              │  DOCX Extraction │               │
│  │   (pdfplumber)   │              │  (python-docx)   │               │
│  └────────┬─────────┘              └────────┬─────────┘               │
│           │                                 │                          │
│           └─────────────┬───────────────────┘                          │
│                         ▼                                              │
│                 ┌───────────────┐                                      │
│                 │ Text Cleaning │                                      │
│                 │ & Normalization│                                     │
│                 └───────┬───────┘                                      │
│                         │                                              │
└─────────────────────────┼──────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         NLP PROCESSING LAYER                            │
│                      (utils/nlp_processor.py)                           │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐            │
│  │ Tokenization │───▶│   Stopword   │───▶│    Skill     │            │
│  │    (NLTK)    │    │   Removal    │    │  Extraction  │            │
│  └──────────────┘    └──────────────┘    └──────┬───────┘            │
│                                                  │                     │
│  ┌──────────────┐    ┌──────────────┐          │                     │
│  │   Synonym    │    │   TF-IDF     │          │                     │
│  │  Handling    │    │  Keywords    │          │                     │
│  │              │    │ (scikit-learn)│         │                     │
│  └──────┬───────┘    └──────┬───────┘          │                     │
│         │                   │                   │                     │
│         └───────────────────┴───────────────────┘                     │
│                             │                                         │
└─────────────────────────────┼─────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         MATCHING ENGINE LAYER                           │
│                        (utils/matcher.py)                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Resume Skills          Job Description Skills                         │
│  ┌──────────┐          ┌──────────┐                                   │
│  │ Python   │          │ Python   │ ◄─── Matched                      │
│  │ Django   │          │ Django   │ ◄─── Matched                      │
│  │ SQL      │          │ SQL      │ ◄─── Matched                      │
│  │ Git      │          │ React    │ ◄─── Missing                      │
│  └──────────┘          │ AWS      │ ◄─── Missing                      │
│                        └──────────┘                                    │
│                                                                         │
│  ┌────────────────────────────────────────────────────────┐           │
│  │  Match Calculation:                                    │           │
│  │  Match % = (Matched Skills / Total JD Skills) × 100   │           │
│  │  Example: (3 / 5) × 100 = 60%                         │           │
│  └────────────────────────────────────────────────────────┘           │
│                             │                                          │
│                             ▼                                          │
│  ┌────────────────────────────────────────────────────────┐           │
│  │  Suggestion Generation:                                │           │
│  │  - Overall assessment                                  │           │
│  │  - Priority skills to add                              │           │
│  │  - Improvement tips                                    │           │
│  └────────────────────────────────────────────────────────┘           │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                          RESULTS DISPLAY LAYER                          │
│                            (Streamlit UI)                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                      MATCH SCORE: 60%                           │  │
│  │  ████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  │  │
│  └─────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  ┌──────────────────────┐         ┌──────────────────────┐           │
│  │  ✅ Matched Skills   │         │  ❌ Missing Skills   │           │
│  │  - Python            │         │  - React             │           │
│  │  - Django            │         │  - AWS               │           │
│  │  - SQL               │         │                      │           │
│  └──────────────────────┘         └──────────────────────┘           │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │  💡 Improvement Suggestions:                                    │  │
│  │  - Good match! Consider adding a few more relevant skills       │  │
│  │  - Priority skills to add: React, AWS                           │  │
│  │  - Tip: Use exact keywords from the job description             │  │
│  └─────────────────────────────────────────────────────────────────┘  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════════════╗
║                            DATA FLOW DIAGRAM                              ║
╚═══════════════════════════════════════════════════════════════════════════╝

User Input
    │
    ├─► Resume File (PDF/DOCX)
    │       │
    │       ▼
    │   Extract Text ──► Clean Text ──► Tokenize ──► Extract Skills
    │                                                       │
    │                                                       ▼
    │                                                  Resume Skills Set
    │                                                       │
    └─► Job Description (Text)                            │
            │                                              │
            ▼                                              │
        Clean Text ──► Tokenize ──► Extract Skills        │
                                         │                 │
                                         ▼                 │
                                    JD Skills Set          │
                                         │                 │
                                         └────────┬────────┘
                                                  │
                                                  ▼
                                          Compare Skills
                                                  │
                                    ┌─────────────┼─────────────┐
                                    ▼             ▼             ▼
                              Matched      Missing      Match %
                               Skills       Skills
                                    │             │             │
                                    └─────────────┴─────────────┘
                                                  │
                                                  ▼
                                          Generate Results
                                                  │
                                                  ▼
                                          Display to User


╔═══════════════════════════════════════════════════════════════════════════╗
║                          SKILL MATCHING LOGIC                             ║
╚═══════════════════════════════════════════════════════════════════════════╝

Resume Skills = {python, django, sql, git, docker}
JD Skills = {python, django, sql, react, aws, kubernetes}

Matched Skills = Resume ∩ JD = {python, django, sql}
Missing Skills = JD - Resume = {react, aws, kubernetes}

Match Percentage = (|Matched| / |JD Skills|) × 100
                 = (3 / 6) × 100
                 = 50%


╔═══════════════════════════════════════════════════════════════════════════╗
║                         SYNONYM HANDLING EXAMPLE                          ║
╚═══════════════════════════════════════════════════════════════════════════╝

Resume contains: "ML", "JS", "K8s"
JD contains: "Machine Learning", "JavaScript", "Kubernetes"

Synonym Mapping:
    ML ──────────────► Machine Learning
    JS ──────────────► JavaScript
    K8s ─────────────► Kubernetes

Result: All three are recognized as MATCHES ✅


╔═══════════════════════════════════════════════════════════════════════════╗
║                            FILE DEPENDENCIES                              ║
╚═══════════════════════════════════════════════════════════════════════════╝

app.py
  │
  ├─► utils/text_extractor.py
  │     ├─► pdfplumber
  │     └─► python-docx
  │
  ├─► utils/nlp_processor.py
  │     ├─► nltk
  │     └─► scikit-learn
  │
  └─► utils/matcher.py
        └─► utils/nlp_processor.py


╔═══════════════════════════════════════════════════════════════════════════╗
║                          PERFORMANCE METRICS                              ║
╚═══════════════════════════════════════════════════════════════════════════╝

┌──────────────────────┬──────────────┬─────────────────┐
│ Operation            │ Time         │ Notes           │
├──────────────────────┼──────────────┼─────────────────┤
│ File Upload          │ < 1 sec      │ Instant         │
│ PDF Extraction       │ 1-2 sec      │ Per page        │
│ DOCX Extraction      │ < 1 sec      │ Fast            │
│ NLP Processing       │ 1-2 sec      │ First run       │
│ Skill Matching       │ < 1 sec      │ Very fast       │
│ Total Analysis       │ 2-3 sec      │ End-to-end      │
└──────────────────────┴──────────────┴─────────────────┘

Memory Usage: ~100MB
Supported File Size: Up to 10MB
Accuracy: 80-85% skill detection


═══════════════════════════════════════════════════════════════════════════
                            END OF ARCHITECTURE
═══════════════════════════════════════════════════════════════════════════
